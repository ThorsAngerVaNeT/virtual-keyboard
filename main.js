(()=>{"use strict";(()=>{const e={en:[{code:"Backquote",key:"`",shift:"~"},{code:"Backslash",key:"\\",shift:"|"},{code:"Backspace",key:"Backspace",shift:null},{code:"BracketLeft",key:"[",shift:"{"},{code:"BracketRight",key:"]",shift:"}"},{code:"Comma",key:",",shift:"<"},{code:"Digit0",key:"0",shift:")"},{code:"Digit1",key:"1",shift:"!"},{code:"Digit2",key:"2",shift:"@"},{code:"Digit3",key:"3",shift:"#"},{code:"Digit4",key:"4",shift:"$"},{code:"Digit5",key:"5",shift:"%"},{code:"Digit6",key:"6",shift:"^"},{code:"Digit7",key:"7",shift:"&"},{code:"Digit8",key:"8",shift:"*"},{code:"Digit9",key:"9",shift:"("},{code:"Equal",key:"=",shift:"+"},{code:"KeyA",key:"a",shift:""},{code:"KeyB",key:"b",shift:""},{code:"KeyC",key:"c",shift:""},{code:"KeyD",key:"d",shift:""},{code:"KeyE",key:"e",shift:""},{code:"KeyF",key:"f",shift:""},{code:"KeyG",key:"g",shift:""},{code:"KeyH",key:"h",shift:""},{code:"KeyI",key:"i",shift:""},{code:"KeyJ",key:"j",shift:""},{code:"KeyK",key:"k",shift:""},{code:"KeyL",key:"l",shift:""},{code:"KeyM",key:"m",shift:""},{code:"KeyN",key:"n",shift:""},{code:"KeyO",key:"o",shift:""},{code:"KeyP",key:"p",shift:""},{code:"KeyQ",key:"q",shift:""},{code:"KeyR",key:"r",shift:""},{code:"KeyS",key:"s",shift:""},{code:"KeyT",key:"t",shift:""},{code:"KeyU",key:"u",shift:""},{code:"KeyV",key:"v",shift:""},{code:"KeyW",key:"w",shift:""},{code:"KeyX",key:"x",shift:""},{code:"KeyY",key:"y",shift:""},{code:"KeyZ",key:"z",shift:""},{code:"Minus",key:"-",shift:"_"},{code:"Period",key:".",shift:">"},{code:"Quote",key:"'",shift:'"'},{code:"Semicolon",key:";",shift:":"},{code:"Slash",key:"/",shift:"?"},{code:"AltLeft",key:"Alt",shift:null},{code:"AltRight",key:"Alt",shift:null},{code:"CapsLock",key:"CapsLock",shift:null,classes:["keyboard__key-toggle"]},{code:"ContextMenu",key:"ContextMenu",shift:null},{code:"ControlLeft",key:"Ctrl",shift:null},{code:"ControlRight",key:"Ctrl",shift:null},{code:"Enter",key:"Enter",shift:null,classes:["keyboard__key-blue"]},{code:"Delete",key:"Del",shift:null},{code:"ArrowSwitch",key:"compare_arrows",shift:null,classes:["material-icons-outlined"]},{code:"ShiftLeft",key:"Shift",shift:null},{code:"ShiftRight",key:"Shift",shift:null},{code:"Space",key:" ",shift:" ",classes:["keyboard__key-blue"]},{code:"Tab",key:"Tab",shift:null},{code:"ArrowLeft",key:"←",shift:null,classes:["keyboard__key-arrow"]},{code:"ArrowUp",key:"↑",shift:null,classes:["keyboard__key-half","keyboard__key-arrow"]},{code:"ArrowDown",key:"↓",shift:null,classes:["keyboard__key-half","keyboard__key-arrow"]},{code:"ArrowRight",key:"→",shift:null,classes:["keyboard__key-arrow"]},{code:"LangSwitch",key:"EN",shift:null,classes:["keyboard__key-lang"]}],ru:[{code:"Backquote",key:"ё",shift:""},{code:"Backslash",key:"\\",shift:"/"},{code:"Backspace",key:"Backspace",shift:null},{code:"BracketLeft",key:"х",shift:""},{code:"BracketRight",key:"ъ",shift:""},{code:"Comma",key:"б",shift:""},{code:"Digit0",key:"0",shift:")"},{code:"Digit1",key:"1",shift:"!"},{code:"Digit2",key:"2",shift:'"'},{code:"Digit3",key:"3",shift:"№"},{code:"Digit4",key:"4",shift:";"},{code:"Digit5",key:"5",shift:"%"},{code:"Digit6",key:"6",shift:":"},{code:"Digit7",key:"7",shift:"?"},{code:"Digit8",key:"8",shift:"*"},{code:"Digit9",key:"9",shift:"("},{code:"Equal",key:"=",shift:"+"},{code:"KeyA",key:"ф",shift:""},{code:"KeyB",key:"и",shift:""},{code:"KeyC",key:"с",shift:""},{code:"KeyD",key:"в",shift:""},{code:"KeyE",key:"у",shift:""},{code:"KeyF",key:"а",shift:""},{code:"KeyG",key:"п",shift:""},{code:"KeyH",key:"р",shift:""},{code:"KeyI",key:"ш",shift:""},{code:"KeyJ",key:"о",shift:""},{code:"KeyK",key:"л",shift:""},{code:"KeyL",key:"д",shift:""},{code:"KeyM",key:"ь",shift:""},{code:"KeyN",key:"т",shift:""},{code:"KeyO",key:"щ",shift:""},{code:"KeyP",key:"з",shift:""},{code:"KeyQ",key:"й",shift:""},{code:"KeyR",key:"к",shift:""},{code:"KeyS",key:"ы",shift:""},{code:"KeyT",key:"е",shift:""},{code:"KeyU",key:"г",shift:""},{code:"KeyV",key:"м",shift:""},{code:"KeyW",key:"ц",shift:""},{code:"KeyX",key:"ч",shift:""},{code:"KeyY",key:"н",shift:""},{code:"KeyZ",key:"я",shift:""},{code:"Minus",key:"-",shift:"_"},{code:"Period",key:"ю",shift:""},{code:"Quote",key:"э",shift:""},{code:"Semicolon",key:"ж",shift:""},{code:"Slash",key:".",shift:","},{code:"AltLeft",key:"Alt",shift:null},{code:"AltRight",key:"Alt",shift:null},{code:"CapsLock",key:"CapsLock",shift:null,classes:["keyboard__key-toggle"]},{code:"ContextMenu",key:"ContextMenu",shift:null},{code:"ControlLeft",key:"Ctrl",shift:null},{code:"ControlRight",key:"Ctrl",shift:null},{code:"Enter",key:"Enter",shift:null,classes:["keyboard__key-blue"]},{code:"Delete",key:"Del",shift:null},{code:"ArrowSwitch",key:"compare_arrows",shift:null,classes:["material-icons-outlined"]},{code:"ShiftLeft",key:"Shift",shift:null},{code:"ShiftRight",key:"Shift",shift:null},{code:"Space",key:" ",shift:" ",classes:["keyboard__key-blue"]},{code:"Tab",key:"Tab",shift:null},{code:"ArrowLeft",key:"←",shift:null,classes:["keyboard__key-arrow"]},{code:"ArrowUp",key:"↑",shift:null,classes:["keyboard__key-half","keyboard__key-arrow"]},{code:"ArrowDown",key:"↓",shift:null,classes:["keyboard__key-half","keyboard__key-arrow"]},{code:"ArrowRight",key:"→",shift:null,classes:["keyboard__key-arrow"]},{code:"LangSwitch",key:"RU",shift:null,classes:["keyboard__key-lang"]}],by:[{code:"Backquote",key:"ё",shift:""},{code:"Backslash",key:"\\",shift:"/"},{code:"Backspace",key:"Backspace",shift:null},{code:"BracketLeft",key:"х",shift:""},{code:"BracketRight",key:"'",shift:"'"},{code:"Comma",key:"б",shift:""},{code:"Digit0",key:"0",shift:")"},{code:"Digit1",key:"1",shift:"!"},{code:"Digit2",key:"2",shift:'"'},{code:"Digit3",key:"3",shift:"№"},{code:"Digit4",key:"4",shift:";"},{code:"Digit5",key:"5",shift:"%"},{code:"Digit6",key:"6",shift:":"},{code:"Digit7",key:"7",shift:"?"},{code:"Digit8",key:"8",shift:"*"},{code:"Digit9",key:"9",shift:"("},{code:"Equal",key:"=",shift:"+"},{code:"KeyA",key:"ф",shift:""},{code:"KeyB",key:"і",shift:""},{code:"KeyC",key:"с",shift:""},{code:"KeyD",key:"в",shift:""},{code:"KeyE",key:"у",shift:""},{code:"KeyF",key:"а",shift:""},{code:"KeyG",key:"п",shift:""},{code:"KeyH",key:"р",shift:""},{code:"KeyI",key:"ш",shift:""},{code:"KeyJ",key:"о",shift:""},{code:"KeyK",key:"л",shift:""},{code:"KeyL",key:"д",shift:""},{code:"KeyM",key:"ь",shift:""},{code:"KeyN",key:"т",shift:""},{code:"KeyO",key:"ў",shift:""},{code:"KeyP",key:"з",shift:""},{code:"KeyQ",key:"й",shift:""},{code:"KeyR",key:"к",shift:""},{code:"KeyS",key:"ы",shift:""},{code:"KeyT",key:"е",shift:""},{code:"KeyU",key:"г",shift:""},{code:"KeyV",key:"м",shift:""},{code:"KeyW",key:"ц",shift:""},{code:"KeyX",key:"ч",shift:""},{code:"KeyY",key:"н",shift:""},{code:"KeyZ",key:"я",shift:""},{code:"Minus",key:"-",shift:"_"},{code:"Period",key:"ю",shift:""},{code:"Quote",key:"э",shift:""},{code:"Semicolon",key:"ж",shift:""},{code:"Slash",key:".",shift:","},{code:"AltLeft",key:"Alt",shift:null},{code:"AltRight",key:"Alt",shift:null},{code:"CapsLock",key:"CapsLock",shift:null,classes:["keyboard__key-toggle"]},{code:"ContextMenu",key:"ContextMenu",shift:null},{code:"ControlLeft",key:"Ctrl",shift:null},{code:"ControlRight",key:"Ctrl",shift:null},{code:"Enter",key:"Enter",shift:null,classes:["keyboard__key-blue"]},{code:"Delete",key:"Del",shift:null},{code:"ArrowSwitch",key:"compare_arrows",shift:null,classes:["material-icons-outlined"]},{code:"ShiftLeft",key:"Shift",shift:null},{code:"ShiftRight",key:"Shift",shift:null},{code:"Space",key:" ",shift:" ",classes:["keyboard__key-blue"]},{code:"Tab",key:"Tab",shift:null},{code:"ArrowLeft",key:"←",shift:null,classes:["keyboard__key-arrow"]},{code:"ArrowUp",key:"↑",shift:null,classes:["keyboard__key-half","keyboard__key-arrow"]},{code:"ArrowDown",key:"↓",shift:null,classes:["keyboard__key-half","keyboard__key-arrow"]},{code:"ArrowRight",key:"→",shift:null,classes:["keyboard__key-arrow"]},{code:"LangSwitch",key:"BY",shift:null,classes:["keyboard__key-lang"]}]};var t=[["Backquote","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","Minus","Equal","Backspace"],["Tab","KeyQ","KeyW","KeyE","KeyR","KeyT","KeyY","KeyU","KeyI","KeyO","KeyP","BracketLeft","BracketRight","Backslash","Delete"],["CapsLock","KeyA","KeyS","KeyD","KeyF","KeyG","KeyH","KeyJ","KeyK","KeyL","Semicolon","Quote","Enter"],["ShiftLeft","KeyZ","KeyX","KeyC","KeyV","KeyB","KeyN","KeyM","Comma","Period","Slash","LangSwitch","ShiftRight"],["ControlLeft","ArrowSwitch","AltLeft","Space","AltRight","ControlRight","ArrowLeft","ArrowUp","ArrowDown","ArrowRight"]],i=function(e,t){for(var i,s=document.createElement(e),o=arguments.length,n=new Array(o>2?o-2:0),a=2;a<o;a++)n[a-2]=arguments[a];return(i=s.classList).add.apply(i,n),t&&Object.keys(t).forEach((function(e){s.setAttribute(e,t[e])})),s};function s(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var a=function(){function e(t){var i=t.key,o=t.code,n=t.shift,a=t.classes,c=void 0===a?[]:a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.key=i,this.code=o,this.shift=n,this.classPrefix="keyboard__key-",this.classes=["keyboard__key"].concat(s(c)),this.init()}var t,o;return t=e,(o=[{key:"init",value:function(){switch(this.shift){case"":case" ":this.shift=this.key.toUpperCase(),this.type="key";break;case null:this.type="fn",this.classes.push("".concat(this.classPrefix,"fn"));break;default:this.type="double",this.classes.push("".concat(this.classPrefix,"double"))}}},{key:"createBtn",value:function(){this.btn=i.apply(void 0,["button",""].concat(s(this.classes)));var e=i("span","","first");e.innerText=this.key;var t=i("span","","second");if(t.innerText="double"!==this.type?"":this.shift,this.btn.append(e,t),this.classes.includes("keyboard__key-toggle")){var o=i("div","","toggler");this.btn.append(o)}return this.btn.code=this.code,this.btn}}])&&n(t.prototype,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function r(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function h(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function l(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}var y=new WeakSet,f=new WeakSet,d=new WeakSet,k=new WeakSet,u=new WeakSet,g=new WeakSet,p=new WeakSet,w=new WeakSet,b=new WeakSet,v=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),h(this,b),h(this,w),h(this,p),h(this,g),h(this,u),h(this,k),h(this,d),h(this,f),h(this,y),this.langs=i,this.rowsMap=t,this.keys={},this.btns=[],this.pressed=new Set,this.state={caps:!1,arrowswitch:!1},l(this,y,m).call(this,!1),l(this,d,L).call(this)}var t,i;return t=e,(i=[{key:"init",value:function(){var e=window.localStorage.getItem("vk-lang");e&&this.langs[e]||(e="en",window.localStorage.setItem("vk-lang",e)),this.currentLang=e,l(this,p,C).call(this),l(this,k,A).call(this)}},{key:"getPosInfo",value:function(e){for(var t=this.keyboardInput.selectionStart,i=0,s=0;s<=t;)s+=e[i].length,i+=1;var o=s-((i-=1)>0?e[i].length:e[0].length),n=s+(i<e.length-1?e[i+1].length:0);return{currentPos:t,currentLineIndex:i,posInCurrentLine:t>e[0].length?t-o:t,prevLinesLength:o,nextLinesLength:n}}},{key:"getTextLines",value:function(){var e=this.keyboardInput.value.split("\n").map((function(e){return"".concat(e," ")})),t=this.keyboardInput.cols+2;return e.map((function(e){if(e.length<=t)return e;var i=e.split(" "),s=[],o="";return i.forEach((function(e,n){if(o.length+e.length+1<=t&&n!==i.length-1)o+="".concat(e," ");else{var a=e;for(""!==o&&s.push(o);a.length>=t;)s.push(a.slice(0,t-1)),a=a.slice(t-1);o="".concat(a," ")}})),s})).flat()}},{key:"switchCase",value:function(){var e=this,t=this.keys[this.currentLang].filter((function(e){return"key"===e.type}));t.forEach((function(i,s){t[s].btn.children[0].innerText=i[e.state.shift!==e.state.caps?"shift":"key"],t[s].btn.children[1].innerText=""}))}},{key:"switchDouble",value:function(){var e=this,t=this.keys[this.currentLang].filter((function(e){return"double"===e.type}));t.forEach((function(i,s){i.btn.classList.add("keyboard__key-double"),t[s].btn.children[0].innerText=i[e.state.shift?"shift":"key"],t[s].btn.children[1].innerText=i[e.state.shift?"key":"shift"]}))}},{key:"switchLanguage",value:function(){var e=Object.keys(this.langs),t=(e.indexOf(this.currentLang)+1)%e.length;this.currentLang=e[t],this.btns.find((function(e){return"LangSwitch"===e.code})).children[0].innerText=this.currentLang.toUpperCase(),window.localStorage.setItem("vk-lang",this.currentLang),this.switchCase(),this.switchDouble()}}])&&r(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function m(e){var t=this;["alt","ctrl","shift"].forEach((function(i){l(t,f,K).call(t,i,e)}))}function K(e,t){this.state[e]=t,this.state["".concat(e,"left")]=t,this.state["".concat(e,"right")]=t}function L(){var e=this.rowsMap.flat().filter((function(e){return"Lang"!==e})),t=Object.entries(this.langs);if(!e.length||!t.length)throw new Error("Rows map or languages object are empty!");t.every((function(t){return e.every((function(e){if(t[1].find((function(t){return t.code===e})))return!0;throw new Error("Keyboard rows map and language maps don't match!<br/>Language: ".concat(t[0],", rows map code not found: ").concat(e))}))}))}function A(){var e=this;document.onkeydown=function(t){return l(e,g,_).call(e,t)},document.onkeyup=function(t){return l(e,g,_).call(e,t)},window.onblur=function(){l(e,w,D).call(e),l(e,y,m).call(e,!1),e.switchCase(),e.switchDouble()}}function S(){var e=this;Object.keys(this.langs).sort((function(t){return t===e.currentLang?-1:1})).forEach((function(t){e.keys[t]=e.langs[t].map((function(t){var i=new a(t),s=e.btns.find((function(e){return e.code===i.code}));return s||((s=i.createBtn()).onmousedown=function(t){return l(e,g,_).call(e,t,i)},s.onmouseup=function(t){return l(e,g,_).call(e,t,i)},s.onmouseleave=function(t){return l(e,g,_).call(e,t,i)},e.btns.push(s)),i.btn=s,i}))}))}function _(e,t){var i=this;e.stopPropagation&&e.stopPropagation();var s=this.keys[this.currentLang].find((function(i){return i.code===(e.code||t.code)}));if(s){var o=s.btn,n=s.code,a=s.key,c=s.shift,r=s.type;if(this.state.ctrl||e.preventDefault(),a.match(/Alt|Caps|Ctrl|Shift/)&&e.repeat)return;if("keydown"===e.type||"mousedown"===e.type||window.navigator.userAgent.match(/Macintosh/)&&"keyup"===e.type&&"CapsLock"===n){var h=this.keyboardInput.selectionStart,y=this.keyboardInput.selectionEnd,f=this.keyboardInput.value.slice(0,h),d=this.keyboardInput.value.slice(y);if("CapsLock"===n&&(o.classList.contains("toggled")?o.classList.remove("toggled"):o.classList.add("toggled"),this.state.caps=!this.state.caps,this.switchCase()),"ShiftRight"!==n&&"ShiftLeft"!==n||(this.state[n.toLowerCase()]=!0,this.state.shift=this.state["".concat(a.toLowerCase(),"left")]||this.state["".concat(a.toLowerCase(),"right")],this.switchCase(),this.switchDouble()),"mousedown"===e.type&&n.match(/Alt|Control|Shift|ArrowSwitch/)&&o.classList.contains("active"))this.state[n.toLowerCase()]=!1,this.state[a.toLowerCase()]=this.state["".concat(a.toLowerCase(),"left")]||this.state["".concat(a.toLowerCase(),"right")],l(this,b,I).call(this,o),this.switchCase(),this.switchDouble();else{if("fn"===r)switch(n){case"Tab":this.keyboardInput.value="".concat(f,"\t").concat(d),h+=1;break;case"Enter":this.keyboardInput.value="".concat(f,"\n").concat(d),h+=1;break;case"Backspace":h===y?(this.keyboardInput.value="".concat(f.slice(0,-1)).concat(d),h-=1):this.keyboardInput.value="".concat(f).concat(d);break;case"Delete":this.keyboardInput.value=h===y?"".concat(f).concat(d.slice(1)):"".concat(f).concat(d);break;case"ControlLeft":case"ControlRigth":this.state.ctrl=!0;break;case"AltLeft":case"AltRight":this.state.alt=!0;break;case"ArrowSwitch":this.state.arrowswitch=!0;break;case"LangSwitch":this.switchLanguage()}this.pressed.add(o),o.classList.add("active")}if((this.state.shift&&"Alt"===a||this.state.alt&&"Shift"===a)&&(this.switchLanguage(),"mousedown"===e.type&&(this.state.shift=!1,this.state.alt=!1,this.switchCase(),this.btns.filter((function(e){return e.code.startsWith("Shift")||e.code.startsWith("Alt")})).forEach((function(e){l(i,b,I).call(i,e)})))),"key"!==r||this.state.ctrl||this.state.alt||(this.keyboardInput.value="".concat(f).concat(this.state.shift!==this.state.caps?c:a).concat(d),h+=1),"double"!==r||this.state.ctrl||this.state.alt||(this.keyboardInput.value="".concat(f).concat(this.state.shift?c:a).concat(d),h+=1),n.match(/Alt|Arrow|Caps|Control|Shift/)||this.state.ctrl||this.state.alt||(this.keyboardInput.setSelectionRange(h,h),this.selectionPos=null),n.match(/ArrowUp|ArrowRight|ArrowDown|ArrowLeft/))if(this.state.arrowswitch){var k,u=this.getTextLines(),g=this.getPosInfo(u),p=g.currentLineIndex,w=g.posInCurrentLine,v=g.prevLinesLength,m=g.nextLinesLength;if("ArrowUp"===n)if(0===p)k=0;else{var K=u[p-1].length;K<w?(this.selectionPos=w,k=v-1):(k=v-K+(this.selectionPos||w),this.selectionPos=null)}if("ArrowDown"===n)if(p===u.length-1)k=m;else{var L=u[p+1].length;L<w?(this.selectionPos=w,k=m-1):(k=m-L+(this.selectionPos||w),this.selectionPos=null)}if("ArrowLeft"===n||"ArrowRight"===n){var A="ArrowLeft"===n?-1:1;k=this.keyboardInput.selectionStart+A,this.selectionPos=null}this.keyboardInput.setSelectionRange(k,k)}else this.keyboardInput.value="".concat(f).concat(a).concat(d),h+=1,this.keyboardInput.setSelectionRange(h,h)}"keyup"!==e.type&&"mouseup"!==e.type&&"mouseleave"!==e.type||("keyup"===e.type&&("ControlLeft"!==n&&"ControlRigth"!==n||(this.state.ctrl=!1),"AltLeft"!==n&&"AltRight"!==n||(this.state.alt=!1),"ShiftRight"!==n&&"ShiftLeft"!==n||(this.state[n.toLowerCase()]=!1,this.state.shift=this.state["".concat(a.toLowerCase(),"left")]||this.state["".concat(a.toLowerCase(),"right")],this.switchCase(),this.switchDouble())),("mouseup"!==e.type&&"mouseleave"!==e.type||!n.match(/Alt|Control|Shift|ArrowSwitch/))&&l(this,b,I).call(this,o)),this.keyboardInput.focus()}}function C(){var e=this,t=i("h1","","title");t.innerText="Virtual Keyboard";var s=i("p","","desc");s.innerText="Created in Windows. Press Shift+Alt to switch language.\n";var o=i("span","","material-icons-outlined");o.innerText="compare_arrows",s.append(o),s.innerHTML+=" - click to switch arrow keys behavior",this.keyboardInput=i("textarea",{rows:16,cols:80,placeholder:"Additional features\n  1) Arrow behavior switcher:\n    - arrow keys insert arrow symbols by default;\n    - arrow keys navigate caret when the arrow switcher is enabled (yes, it's not perfect, but works well in normal test cases).\n  2) Alt, Ctrl, Shift can be toggled and save toggle state by mouse click. Another click turns off toggle state. This behavior make possible to switch language, type shifted symbols only by mouse.\n  3) Toggled/pressed keys losing those states when the window loses focus (Alt+Tab).\n  4) macOS Caps Lock behavior is handled.\n  5) Multiple language support. EN, RU, BY languages are provided. You can copy language file, update it, import in \"src/lang/index.js\" and everything will work the same way.\n  6) Language switch button was added to display current language, it also switch language at mouse click.\n  \nPlease keep in mind\n  1) If you run ESLint check in my repo at your computer and \"Expected linebreaks to be LF but found CRLF linebreak-style\" errors appear, it's your git have wrong 'autocrlf' setting and it's your git replaces all LF in my sources to CRLF.\n  2) \"Error with Permissions-Policy header: Origin trial controlled feature not enabled: 'interest-cohort'.\" warning in console is normal behavior at GitHub Pages. This warning about Chrome settings and not connected with my app and code.\n  3) Right Alt (AltGraph) simultaneously triggers events for right Alt and left Ctrl when your system keyboard layout is RU. It's normal behavior.",spellcheck:!1},"keyboard__input");var n=i("div","","keyboard__wrapper");l(this,u,S).call(this),this.rowsMap.forEach((function(t){var s,o=i("div","","keyboard__row");t.forEach((function(t){var n=e.keys[e.currentLang].find((function(e){return e.code===t}));n.classes.includes("keyboard__key-half")?(s||(s=i("div","","keyboard__key-half-container")),s.append(n.btn),2===s.children.length&&(o.append(s),s=null)):o.append(n.btn)})),n.append(o)}));var a=i("div","","author"),c=i("a",{href:"https://github.com/ThorsAngerVaNeT",target:"_blank",title:"GitHub"},"link");c.innerText="Vadzim Antonau © 2022",a.append(c),document.body.innerHTML="",document.body.append(t,s,this.keyboardInput,n,a)}function D(){var e,t=this;(e=this.pressed,function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(e){"ArrowSwitch"!==e.code&&l(t,b,I).call(t,e)}))}function I(e){if(!this.pressed.has(e)&&e.code.match(/Shift/)){var t=this.btns.find((function(t){return t.code.match(/Shift/)&&t!==e}));this.pressed.has(t)&&(l(this,f,K).call(this,"shift",!1),l(this,b,I).call(this,t),this.switchCase(),this.switchDouble())}this.pressed.delete(e),e.classList.remove("active")}window.onload=function(){try{new v(t,e).init()}catch(e){document.body.innerHTML=e.message}}})()})();